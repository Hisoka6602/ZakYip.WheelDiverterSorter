{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "RouteConfiguration": {
    "DatabasePath": "Data/routes.db"
  },
  "Driver": {
    "UseHardwareDriver": false,
    "Leadshine": {
      "CardNo": 0,
      "Diverters": [
        {
          "DiverterId": "D1",
          "OutputStartBit": 0,
          "FeedbackInputBit": 10
        },
        {
          "DiverterId": "D2",
          "OutputStartBit": 2,
          "FeedbackInputBit": 11
        },
        {
          "DiverterId": "D3",
          "OutputStartBit": 4,
          "FeedbackInputBit": 12
        }
      ]
    }
  },
  "Sensor": {
    "UseHardwareSensor": false,
    "VendorType": "Leadshine",
    "Leadshine": {
      "CardNo": 0,
      "Sensors": [
        {
          "SensorId": "SENSOR_PE_01",
          "Type": "Photoelectric",
          "InputBit": 0,
          "IsEnabled": true
        },
        {
          "SensorId": "SENSOR_LASER_01",
          "Type": "Laser",
          "InputBit": 1,
          "IsEnabled": true
        }
      ]
    },
    "MockSensors": [
      {
        "SensorId": "SENSOR_PE_01",
        "Type": "Photoelectric",
        "IsEnabled": true
      },
      {
        "SensorId": "SENSOR_LASER_01",
        "Type": "Laser",
        "IsEnabled": true
      }
    ]
  },
  "RuleEngineConnection": {
    "Mode": "Http",
    "TcpServer": "192.168.1.100:8000",
    "SignalRHub": "http://192.168.1.100:5000/sortingHub",
    "MqttBroker": "mqtt://192.168.1.100:1883",
    "MqttTopic": "sorting/chute/assignment",
    "HttpApi": "http://localhost:5000/api/sorting/chute",
    "TimeoutMs": 5000,
    "RetryCount": 3,
    "RetryDelayMs": 1000,
    "EnableAutoReconnect": true,
    "Tcp": {
      "ReceiveBufferSize": 8192,
      "SendBufferSize": 8192,
      "NoDelay": true,
      "KeepAliveInterval": 60
    },
    "Http": {
      "MaxConnectionsPerServer": 10,
      "PooledConnectionIdleTimeout": 60,
      "PooledConnectionLifetime": 0,
      "UseHttp2": false
    },
    "Mqtt": {
      "QualityOfServiceLevel": 1,
      "CleanSession": true,
      "SessionExpiryInterval": 3600,
      "MessageExpiryInterval": 0,
      "ClientIdPrefix": "WheelDiverter"
    },
    "SignalR": {
      "HandshakeTimeout": 15,
      "KeepAliveInterval": 30,
      "ServerTimeout": 60,
      "ReconnectIntervals": null,
      "SkipNegotiation": false
    }
  },
  "Concurrency": {
    "MaxConcurrentParcels": 10,
    "ParcelQueueCapacity": 100,
    "MaxBatchSize": 5,
    "EnableBatchProcessing": true,
    "DiverterLockTimeoutMs": 5000
  }
}
